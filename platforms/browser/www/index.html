<!doctype html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ventas</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- inject:css-->
    <link rel="stylesheet" href="assets/vendor_assets/css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/daterangepicker.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/footable.standalone.min.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/fullcalendar@5.2.0.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/jquery-jvectormap-2.0.5.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/jquery.mCustomScrollbar.min.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/leaflet.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/line-awesome.min.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/MarkerCluster.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/MarkerCluster.Default.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/select2.min.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/slick.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/star-rating-svg.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/trumbowyg.min.css">
    <link rel="stylesheet" href="assets/vendor_assets/css/wickedpicker.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .form-control {
            font-weight: bold;
        }

        #filter-form-container .footable-filtering-search .form-control {
            width: 100% !important;
            height: 48px !important;
        }

        .form-group footable-filtering-search,
        .input-group,
        form-inline {
            width: 100% !important;
        }

        .contents {
            padding: 0px 0px 0px 0px !important;
        }

        /* Establecer la altura de la tabla */
        #cart,
        #productos {
            /* Puedes ajustar la altura según tus necesidades */
            border-collapse: collapse;
            width: 100%;
            /* overflow-y: hidden; */
        }

        /* Hacer que el contenido sea scrollable */
        #cart tbody,
        #productos tbody {
            display: block;
            max-height: 560px;
            /* Puedes ajustar la altura del área de contenido scrollable */
            /* overflow-y: hidden; */
            overflow-x: hidden;
        }

        .table-responsive {
            overflow-x: hidden;
        }

        #cart tbody {
            max-height: 400px;
        }

        #cart thead,
        #productos thead,
        #cart tbody tr,
        #productos tbody tr {
            display: table;
            width: 100%;
            table-layout: fixed;
            border-bottom: 1px solid #28282830;
            margin-left: 5px;
        }

        /* .Product-cart-title {
            width: 250px;
        } */
        .table tbody {
            margin-left: 5px !important;
        }

        .total {
            padding: 5px;
        }

        .product-cart {
            margin-right: -5px;
            margin-left: -5px;
        }

        .product-cart .table td {
            padding: 10px !important;
        }

        .atbd-button-list {
            margin: -5px -6px 10px -22px !important;
        }

        .btnPagar {
            align-items: center;
            background-image: linear-gradient(#0065c5 0, #0065c5 100%);
            border-radius: 6px;
            color: #0065c5;
            cursor: pointer;
            display: grid;
            font-size: 20px;
            font-weight: 600;
            grid-template-columns: auto max-content max-content;
            height: max-content;
            margin: 0;
            padding: 5px;
            text-align: left;
            text-decoration: none;
            color: white;
        }

        .btnPagar:hover {
            color: #fff;
        }

        h5 {
            font-size: 100%;
        }

        .detalles {
            font-size: 74%;
            margin-top: 6px;
        }

        .modal-content,
        .card,
        .bg-white {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .enlaces {
            position: relative;
            /* Aseguramos que la posición sea relativa para los elementos hijos que tengan posición absoluta */
            z-index: 0;
            /* Aseguramos que el z-index sea inferior para que los elementos hijos aparezcan por encima */
            background: rgba(255, 255, 255, 0.8);
            /* Fondo semi-transparente para aplicar el efecto de desenfoque */
            backdrop-filter: blur(5px);
            /* Aplicamos el desenfoque al fondo */
            -webkit-backdrop-filter: blur(5px);
            /* Para navegadores basados en Webkit (como Safari) */
            height: auto;
            /* Ajustamos la altura automáticamente o según el contenido si es necesario */
            margin-bottom: 19px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3);
            /* Posición x, posición y, desenfoque, color */
        }

        /* Ajustamos el z-index de los hijos para que se muestren por encima del fondo desenfocado */
        .row .nav-tabs.vertical-tabs {
            z-index: 1;
        }

        .row #fechahora {
            z-index: 1;
        }

        .modal-body {
            padding-top: 5px;
        }
    </style>
    <!-- endinject -->
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon.png">
</head>

<body class="layout-light top-menu overlayScroll">
    <main class="main-content">
        <div class="tab-wrapper">
            <div class="atbd-tab tab-horizontal">
                <div class="row enlaces">
                    <div class="col-md-6">
                        <ul class="nav vertical-tabs" role="tablist" style=" position: inherit;" id="pestanas">
                            <li class="nav-item">
                                <a class="nav-link active" id="tab-v-1-tab" data-toggle="tab" href="#tab-v-1" role="tab"
                                    aria-controls="tab-v-1" aria-selected="true" alt="Ventas"><span
                                        data-feather="shopping-cart"></span>
                                </a>
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link" id="tab-v-2-tab" href="./order-table.html" role="tab"
                                    title="Pedidos" aria-selected="false"><span data-feather="check-circle"></span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tab-v-3-tab" href="./checkbox.html" role="tab"
                                    aria-selected="false" title="Clientes"><span data-feather="users"></span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tab-v-3-tab" href="./checkbox.html" role="tab"
                                    aria-selected="false" title="Sincronizar pedidos"><span
                                        data-feather="refresh-cw"></span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tab-v-3-tab" href="./checkbox.html" role="tab"
                                    aria-selected="false" title="Wifi"><span data-feather="wifi"></span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tab-v-3-tab" href="./checkbox.html" role="tab"
                                    aria-selected="false" title="Cerrar caja"><span data-feather="log-out"></span></a>
                            </li> -->
                        </ul>
                    </div>
                    <div class="col-md-6 d-flex align-items-center justify-content-end">
                        <p style="margin-right: 20px; margin-bottom:0px;" id="fechahora">Jue 4 Enero 14:25 </p>
                    </div>
                </div>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="tab-v-1" role="tabpanel" aria-labelledby="tab-v-1-tab">
                        <div class="contents">
                            <div class="atbd-page-content notification-modal-box">
                                <div class="container-fluid">
                                    <div class="cartPage">
                                        <div class="row justify-content-center">
                                            <div class="col-sm-12 col-md-5" id="listadeproductos">
                                                <div class="card order-summery card-body" style="margin-bottom: 10px;">
                                                    <div class="bg-white">
                                                        <div style="padding: -24px;">
                                                            <div class="row">
                                                                <div class="col-md-8">
                                                                    <div
                                                                        class="input-container icon-left position-relative">
                                                                        <span class="input-icon icon-left"><span
                                                                                data-feather="filter"></span></span>
                                                                        <input type="text"
                                                                            class="form-control form-control-default"
                                                                            id="rucInput" placeholder="RUC">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div
                                                                        class="input-container icon-left position-relative">
                                                                        <span class="input-icon icon-left"><span
                                                                                data-feather="filter"></span></span>
                                                                        <select
                                                                            class="form-control form-control-default"
                                                                            id="mesaInput" placeholder="Mesa"></select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card order-summery card-body" style="margin-bottom: 10px;">
                                                    <div class="bg-white">
                                                        <div style="padding: -24px;">
                                                            <div class="row">
                                                                <div class="col-md-8">
                                                                    <div id="filter-form-container"></div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <select class="form-control form-control-default"
                                                                        id="select_cat" placeholder="Categoria"
                                                                        multiple>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- "lugar disponible" content goes here -->
                                                <div class="card order-summery card-body">
                                                    <div class="bg-white">
                                                        <div class="product-cart">
                                                            <div class="table-responsive">
                                                                <table id="productos"
                                                                    class="table table-borderless table-hover"
                                                                    data-sorting="true"
                                                                    data-filter-container="#filter-form-container"
                                                                    data-paging-current="1" data-paging-position="right"
                                                                    data-paging-size="10">
                                                                    <thead>
                                                                        <tr class="product-cart__header">
                                                                            <th scope="col" class="col-md-6"
                                                                                data-name="producto">Producto</th>
                                                                            <th scope="col" class="col-md-3">Precio</th>
                                                                            <th scope="col" class="text-center col-md-3"
                                                                                data-name="categoria">
                                                                                Cat.</th>
                                                                            <th scope="col"
                                                                                class="text-center col-md-1"></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <!-- Data will be populated here dynamically -->
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12 col-md-7" id="resumendecompra">
                                                <div class="card order-summery card-body" id="carrito"
                                                    style="display: none;">
                                                    <div class="bg-white">
                                                        <div class="product-cart" style="margin-right: 5px;">
                                                            <div class="table-responsive">
                                                                <table id="cart"
                                                                    class="table table-borderless table-hover"
                                                                    style="border-bottom: 1px solid #28282822">
                                                                    <thead>
                                                                        <tr class="product-cart__header">
                                                                            <th scope="col"
                                                                                class="Product-cart-title col-md-4"
                                                                                data-name="producto">Producto</th>
                                                                            <th scope="col" class=" col-md-2"
                                                                                style="padding-left: 55px;">Qy
                                                                            </th>
                                                                            <th scope="col" class=" col-md-3"
                                                                                style="text-align: center;">total
                                                                            </th>
                                                                            <th scope="col" class=" col-md-3"></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    </tbody>
                                                                </table><!-- End: table -->
                                                            </div>
                                                        </div><!-- End: .product-cart-->
                                                        <div class="d-flex align-items-center justify-content-center"
                                                            style="margin-bottom: 4px;margin-top: 9px;">
                                                            <button
                                                                class="btn btn-light btn-default btn-rounded btn-block mr-2"
                                                                onclick="abrirModalDescuentoTotal()"
                                                                style="margin-top: 8px;"><span
                                                                    data-feather="percent"></span> Descuento</button>
                                                            <button
                                                                class="btn btn-light btn-default btn-rounded btn-block mr-2"
                                                                onclick="abrirModalDelivery()"><span
                                                                    data-feather="truck"></span> Delivery</button>
                                                            <button
                                                                class="btn btn-light btn-default btn-rounded btn-block mr-2"
                                                                onclick="abrirModalCupon()"><span
                                                                    data-feather="tag"></span> Cupon</button>
                                                            <button
                                                                class="btn btn-light btn-default btn-rounded btn-block"
                                                                id="pedidoButton" onclick="cargarPedido()"><span
                                                                    data-feather="check-circle"></span> Pedido</button>
                                                        </div>
                                                        <div class="total" style="display: none;
                                                        margin-top: 20px;
                                                        margin-bottom: 7px;
                                                    " id="totales">
                                                            <div class="subtotalPrecioItems" id="subtotalPrecioItems"
                                                                style="font-size: 16px;padding: 0;border-bottom: 1px dotted #28282822;">
                                                                Subtotal:
                                                                <span></span>
                                                            </div>
                                                            <div class="subtotalDescuentoItems"
                                                                id="subtotalDescuentoItems"
                                                                style="font-size: 16px;padding: 0;border-bottom: 1px dotted #28282822;">
                                                                Descuento a productos:
                                                                <span></span>
                                                            </div>
                                                            <div class="descuentoAlTotal" id="descuentoAlTotal"
                                                                style="font-size: 16px;padding: 0;border-bottom: 1px dotted #28282822;">
                                                                Descuento a la factura:
                                                                <span></span>
                                                            </div>
                                                            <div class="cabeceraDelivery" id="cabeceraDelivery"
                                                                style="font-size: 16px;padding: 0;border-bottom: 1px dotted #28282822;">
                                                                Delivery:
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div><!-- End: .order-summery-->
                                                <div class="card order-summery card-body"
                                                    style="margin-top: 8px; display: none;" id="divbtnpagar">
                                                    <div class="bg-white">
                                                        <div style="padding: -24px;">
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <a class="btnPagar" href="#" onclick="abrirModalPagar()" >
                                                                        <p style="margin-bottom: 0px !important;">
                                                                            Pagar<br><i> Items</i></p>
                                                                        <p id="totalapagar"
                                                                            style="margin-bottom:0px !important; font-size: 28px;">
                                                                            1.400.000 </p><span
                                                                            data-feather="chevrons-right"></span>
                                                                        </span>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div><!-- End: .cus-xl-9 -->
                                        </div><!-- End: .global-shadow -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="tab-v-2" role="tabpanel" aria-labelledby="tab-v-2-tab">
                        <p>Content of Tab Pane 2</p>
                    </div>
                    <div class="tab-pane fade" id="tab-v-3" role="tabpanel" aria-labelledby="tab-v-3-tab">
                        <p>Content of Tab Pane 3</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- ends: .modal-descuento -->
    </main>
    <div class="notification-wrapper top-right"></div>
    <!-- Modal comentario -->

    <!-- Modal Descuento -->
    <div class="modal-descuento modal fade show" id="modal-descuento" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Aplicar descuento</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-3">
                                <img class="wh-80 align-self-center radius-xl bg-opacity-primary" id="modalFotoProducto"
                                    src="" alt="Foto del producto">
                                <input type="hidden" class="form-control descuento-input" placeholder=""
                                    id="modal-idproducto">
                            </div>
                            <div class="col-md-9">
                                <h5 id="modalNombreProducto" style="color: #272b41;"></h5>
                                <p style="color: #272b41; margin-top: 5px;">Precio: $<span
                                        id="modalPrecioProducto"></span>
                                    <br />
                                    Precio Mayorista: $<span id="modalPrecioMayoristaProducto"></span>
                                </p>
                            </div>
                        </div>
                        <div class="row" style="padding-top: 10px;">
                            <div class="col-md-8">
                                <label for="inputdesc" style="color: #272b41; font-weight: bold;">Monto
                                    Desc.</label>
                                <input type="text" class="form-control form-control-default descuento-input"
                                    placeholder="" id="inputdesc">
                            </div>
                            <div class="col-md-4">
                                <label for="descporcentaje" style="color: #272b41; font-weight: bold">Desc.
                                    %</label>
                                <input type="number" class="form-control descuento-input" placeholder="" min="1"
                                    max="100" id="descporcentaje">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalDescuento"
                        onclick="actualizarDescuento()">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Descuento a la factura -->
    <div class="modal-DescuentoTotal modal fade show" id="modal-DescuentoTotal" tabindex="-1" role="dialog"
        aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Aplicar descuento</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-12">
                                <p style="
                                text-align: center;
                                color: #000;
                                margin-bottom: -5px;
                                font-size: 16px;">subtotal</p>
                                <h5 style="color: #272b41; margin-top: 5px; text-align: center; font-size: 22px;">
                                    $<span id="txttotalPrecioConDescuentoItems"></span>
                                </h5>

                            </div>
                        </div>
                        <div class="row" style="padding-top: 10px;">
                            <div class="col-md-8">
                                <label for="inputdesctotal" style="color: #272b41; font-weight: bold;">Monto
                                    Desc.</label>
                                <input type="text" class="form-control form-control-default DescuentoTotal-input"
                                    placeholder="" id="inputdesctotal">
                            </div>
                            <div class="col-md-4">
                                <label for="descporcentajetotal" style="color: #272b41; font-weight: bold">Desc.
                                    %</label>
                                <input type="number" class="form-control DescuentoTotal-input" placeholder="" min="1"
                                    max="100" id="descporcentajetotal">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalDescuentoTotal"
                        onclick="actualizarDescuentoTotal()">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Delivery -->
    <div class="modal-Delivery modal fade show" id="modal-Delivery" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Cargar Delivery</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="inputDelivery" style="color: #272b41; font-weight: bold;">Delivery</label>
                                <input type="text" class="form-control form-control-default Delivery-input"
                                    placeholder="" id="inputDelivery">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalDelivery"
                        onclick="actualizarDelivery()">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Cupon -->
    <div class="modal-Cupon modal fade show" id="modal-Cupon" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Cargar Cupon</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="cuponNombre" style="color: #272b41; font-weight: bold;">Cliente</label>
                                <input type="text" class="form-control form-control-default Cupon-input" placeholder=""
                                    id="cuponNombre">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label for="cuponCod" style="color: #272b41; font-weight: bold;">Cod. Cupon</label>
                                <input type="text" class="form-control form-control-default Cupon-input" placeholder=""
                                    id="cuponCod">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalCupon"
                        onclick="actualizarCupon()">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Cantidad x kilo -->
    <div class="modal-peso modal fade show" id="modal-peso" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Cargar el carrito</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-3">
                                <img class="wh-80 align-self-center radius-xl bg-opacity-primary"
                                    id="modalFotoProductoPeso" src="" alt="Foto del producto">
                                <input type="hidden" class="form-control descuento-input" placeholder=""
                                    id="modal-idproductoPeso">
                            </div>
                            <div class="col-md-9">
                                <h5 id="modalNombreProductoPeso"
                                    style="color: #272b41; text-align: left; font-size: 22px;"></h5>
                                <!-- <p style="color: #272b41; margin-top: 9px; margin-bottom: 13px; font-weight: 500;">1 kg = $<span
                                        id="modalPrecioProductoPeso"></span>
                                    <br />
                                    1 kg p. mayorista = $<span id="modalPrecioMayoristaProductoPeso"></span>
                                </p> -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 d-flex align-items-center justify-content-left">
                                <label for="pesokg" style="color: #272b41; font-weight: bold; margin-bottom: 0px;">Peso
                                    en Kg</label>
                            </div>
                            <div class="col-md-8">
                                <div class="input-container icon-left position-relative">
                                    <span class="input-icon icon-left"><span data-feather="tag"
                                            style="margin-left: -44px;"></span></span>
                                    <input type="text" class="form-control form-control-default Peso-input"
                                        placeholder="0.00" id="pesokg" style="margin-left: -37px;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalPeso"
                        onclick="obtenerCantidadDesdeModalPeso()">Ok</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal comentario -->
    <div class="modal-Detalles modal fade show" id="modal-Detalles" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Detalles</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-info-body align-items-center">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="DetallesNombre" style="color: #272b41; font-weight: bold;">Detalles</label>
                                <textarea type="text" class="form-control form-control-default Detalles-input"
                                    placeholder="" id="DetallesNombre"> </textarea>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalDetalles"
                        onclick="actualizarDetalles()">Ok</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pagar -->
    <div class="modal-Pagar modal fade show" id="modal-Pagar" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Pagar</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span></button>
                </div>

                
<div class="modal-body">
    <div class="modal-info-body align-items-center">
        <div class="row">
            <div class="col-md-12" style="text-align: center;">
                <h3 id="montoAPagar">Monto a Pagar G$ 70.400.000</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <select class="form-control form-control-default" id="mediodepago" placeholder="Efectivo">
                    <option value="efectivo">Efectivo</option>
                    <option value="debito">Debito</option>
                    <option value="cheque">Cheque</option>
                </select>
            </div>
            <div class="col-md-7">
                <div class="input-container icon-left position-relative">
                    <span class="input-icon icon-left"><span data-feather="dollar-sign"></span></span>
                    <input type="text" class="form-control form-control-default montoInput" placeholder="">
                </div>
            </div>
        </div>
        <div class="row" id="vueltoRow" style="display: none;">
            <div class="col-md-6">
                <h3>Vuelto</h3>
            </div>
            <div class="col-md-6">
                <h4 id="vuelto">G$ 15.000</h4> 
            </div>
        </div>
    </div>
</div>

                
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-light btn-outlined btn-sm"
                        data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-info btn-sm" id="btnOkModalPagar" onclick="abrirModalPagar()">Pagar</button>
                </div>
            </div>
        </div>
    </div>

    <div id="overlayer">
        <span class="loader-overlay">
            <div class="atbd-spin-dots spin-lg">
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
            </div>
        </span>
    </div>
    <div class="overlay-dark-sidebar"></div>
    <!-- inject:js-->
    <script src="assets/vendor_assets/js/jquery/jquery-3.5.1.min.js"></script>
    <script src="assets/vendor_assets/js/jquery/jquery-ui.js"></script>
    <script src="assets/vendor_assets/js/bootstrap/popper.js"></script>
    <script src="assets/vendor_assets/js/bootstrap/bootstrap.min.js"></script>
    <script src="assets/vendor_assets/js/moment/moment.min.js"></script>
    <script src="assets/vendor_assets/js/accordion.js"></script>
    <script src="assets/vendor_assets/js/autoComplete.js"></script>
    <script src="assets/vendor_assets/js/Chart.min.js"></script>
    <script src="assets/vendor_assets/js/charts.js"></script>
    <script src="assets/vendor_assets/js/daterangepicker.js"></script>
    <script src="assets/vendor_assets/js/drawer.js"></script>
    <script src="assets/vendor_assets/js/dynamicBadge.js"></script>
    <script src="assets/vendor_assets/js/dynamicCheckbox.js"></script>
    <script src="assets/vendor_assets/js/feather.min.js"></script>
    <script src="assets/vendor_assets/js/footable.min.js"></script>
    <script src="assets/vendor_assets/js/fullcalendar@5.2.0.js"></script>
    <script src="assets/vendor_assets/js/google-chart.js"></script>
    <script src="assets/vendor_assets/js/jquery-jvectormap-2.0.5.min.js"></script>
    <script src="assets/vendor_assets/js/jquery-jvectormap-world-mill-en.js"></script>
    <script src="assets/vendor_assets/js/jquery.countdown.min.js"></script>
    <script src="assets/vendor_assets/js/jquery.filterizr.min.js"></script>
    <script src="assets/vendor_assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/vendor_assets/js/jquery.mCustomScrollbar.min.js"></script>
    <script src="assets/vendor_assets/js/jquery.peity.min.js"></script>
    <script src="assets/vendor_assets/js/jquery.star-rating-svg.min.js"></script>
    <script src="assets/vendor_assets/js/leaflet.js"></script>
    <script src="assets/vendor_assets/js/leaflet.markercluster.js"></script>
    <script src="assets/vendor_assets/js/loader.js"></script>
    <script src="assets/vendor_assets/js/message.js"></script>
    <script src="assets/vendor_assets/js/moment.js"></script>
    <script src="assets/vendor_assets/js/muuri.min.js"></script>
    <script src="assets/vendor_assets/js/notification.js"></script>
    <script src="assets/vendor_assets/js/popover.js"></script>
    <script src="assets/vendor_assets/js/select2.full.min.js"></script>
    <script src="assets/vendor_assets/js/slick.min.js"></script>
    <script src="assets/vendor_assets/js/trumbowyg.min.js"></script>
    <script src="assets/vendor_assets/js/wickedpicker.min.js"></script>
    <script src="assets/theme_assets/js/drag-drop.js"></script>
    <script src="assets/theme_assets/js/full-calendar.js"></script>
    <script src="assets/theme_assets/js/googlemap-init.js"></script>
    <script src="assets/theme_assets/js/icon-loader.js"></script>
    <script src="assets/theme_assets/js/jvectormap-init.js"></script>
    <script src="assets/theme_assets/js/leaflet-init.js"></script>
    <script src="assets/theme_assets/js/main.js"></script>
    <!-- endinject-->
    <script src="js/cart.js"></script>
    <script src="js/cart-modal.js"></script>
    <script src="js/modal-enter.js"></script>
    <script src="js/toys.js"></script>
    <script>
        $(document).ready(function () {
            let clientes = JSON.parse(localStorage.getItem('clientes'));
            // Si no hay datos en localStorage, obtenerlos del servicio web
            if (!clientes) {
                $.ajax({
                    url: 'http://local/s1/public/api/stock/caja/getClientes',
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        clientes = data;
                        localStorage.setItem('clientes', JSON.stringify(clientes));
                        initializeSelect2();
                    },
                    error: function (error) {
                        console.error('Error al obtener los datos del servidor', error);
                    }
                });
            } else {
                initializeSelect2();
            }
            function formatClient(client) {
                return {
                    id: client.ruc,
                    text: client.ruc + ' - ' + client.razon_social
                };
            }
            function initializeSelect2() {
                $('#rucInput').select2({
                    placeholder: 'Ingrese RUC',
                    minimumInputLength: 1,
                    data: clientes.map(formatClient)
                });
                // Evento para actualizar campos
                $('#rucInput').on('select2:select', function (e) {
                    const selectedClient = clientes.find(client => client.ruc === e.params.data.id);
                    if (selectedClient) {
                        // Aquí puedes agregar cualquier otra lógica que desees, como llenar otros campos o realizar acciones adicionales.
                        console.log(selectedClient);
                    }
                });
            }
            // Cargar mesas
            $.ajax({
                url: 'http://local/s1/public/api/stock/caja/getMesas',
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    initializeMesaSelect2(data);
                },
                error: function (error) {
                    console.error('Error al obtener las mesas del servidor', error);
                }
            });
            function initializeMesaSelect2(mesas) {
                $('#mesaInput').select2({
                    placeholder: 'Seleccione una Mesa',
                    data: mesas.map(function (mesa) {
                        return {
                            id: mesa.id_mesa,
                            text: mesa.area + ' - ' + mesa.nombre
                        };
                    })
                });
                // Puedes agregar un evento si necesitas realizar alguna acción cuando se selecciona una mesa
                $('#mesaInput').on('select2:select', function (e) {
                    const selectedMesa = mesas.find(mesa => mesa.id_mesa === e.params.data.id);
                    if (selectedMesa) {
                        console.log(selectedMesa);
                    }
                });
            }
        });
    </script>
</body>

</html>